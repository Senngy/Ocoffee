<%- include('partials/header.ejs') %>

    <!-- Style -->
    <link rel="stylesheet" href="../css/catalog.css" />
    <link rel="stylesheet" href="/css/layout.css">

    <!-- Scripts -->
    <script defer src="../js/catalog.js"></script>
  </head>

  <body>
    <!-- Include Header here -->
    <header>
      <a href="/">
        <img src="../images/logo.svg" alt="logo oCoffee">
        oCoffee
      </a>
  
      <nav id="menu-navbar">
        <button id="menu-button" aria-label="Show navigation links">
          <?xml version="1.0" encoding="UTF-8"?><svg width="100%" height="100%" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="none"><path d="M3 5H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 12H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 19H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </button>
  
        <ul>
          <li><a href="/">Accueil</a></li>
          <!-- <li><a href="/catalogue">Catalogue</a></li> -->
          <li><a href="/boutique">Boutique</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section id="catalog">
        <h1>Notre catalogue</h1>

        <div class="articles only-display-4-articles" id="articles-list">
          <% if (coffees && Array.isArray(coffees) && coffees.length > 0) { %>
            <% for (const coffee of coffees) { %>
              
              <article class="article <%= !coffee.available ? 'not-available' : '' %>">
                <img src="/images/coffees/<%= coffee.reference %>.png" alt="<%= coffee.name %>" class="<%= !coffee.available ? 'img-not-available' : '' %>">
                <div>
                  <h2><%= coffee.name %></h2>
                  <p>Origine: <%= coffee.country_name %></p>
                  <p><%= coffee.price_kg %> €/kg</p>
                  <a class="button-outline" href="/catalogue/<%= coffee.id %>">Voir le détail <%= !coffee.available ? '(Rupture de stock)' : '' %></a>
                </div>
              </article>
            <% } %>
          <% } else { %>
            <article>
              <p>
                Pas de cafés disponibles
              </p>
            </article>
          <% } %>

        </div>

        <button class="button" id="see-all-products-button">
          Voir tous les produits
        </button>
      </section>
    </main>
    <script src="/js/seeAll.js"></script>
    <script src="/js/header.js"></script>

    <!-- Include Footer here -->
  <%- include('partials/footer.ejs') %>